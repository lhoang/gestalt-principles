<!DOCTYPE html>
<html>

<head>
    <title>Gestalt Principles</title>
    <meta charset="utf-8">
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="js/gestalt.js"></script>
    <script src="lib/graph-scroll.js"></script>
    <link href="css/scroll.css" rel="stylesheet" type="text/css"/>
    <link href="css/gestalt.css" rel="stylesheet" type="text/css"/>
</head>

<body>
<div class="slide">
    <h1>Gestalt Principles for Dataviz</h1>
    <p>Scroll down â‡“</p>
</div>
<div class="slide">
    <div class="quote">The whole is something else than the sum of its parts.</div>
    <div class="author">K. Koffka</div>
</div>
<div id='container'>
    <div id="graph"></div>
    <div id='sections'>
        <div class="trigger">
        </div>
        <div class="trigger">
            <h3>Proximity</h3>
        </div>
        <div class="trigger">
            <h3>Similarity</h3>
        </div>
        <div class="trigger">
            <h3>2014</h3>
        </div>
        <div class="trigger">
            <h3>2015</h3>
        </div>
        <div class="trigger">
            <h3>2016</h3>
        </div>
        <div class="trigger">
            <h3>2017</h3>
        </div>
        <div class="trigger">
            <h3>2018</h3>
        </div>
        <div class="trigger">
            <h3>Merci</h3>
        </div>
    </div>
</div>
<script>
    function graphscroll() {
        const graphicEl = d3.select('#container');
        const graphicVisEl = graphicEl.select('#graph');
        const triggerEls = graphicEl.selectAll('.trigger');

        // viewport height
        const viewportHeight = window.innerHeight;
        const halfViewportHeight = viewportHeight / 2;

        const main = new Gestalt({width: 500, height: 500});
        d3.graphScroll()
            .container(graphicEl)
            .graph(graphicVisEl)
            .sections(triggerEls)
            .offset(-100)
            .on('active', i => {
                switch (i) {
                    case 0:
                        main.init();
                        break;
                    case 1:
                        main.proximity();
                        break;
                    case 2:
                        main.similarity();
                        break;
                    default:
                        main.display(i);
                }
            });
    }

    graphscroll(2011);
</script>
</body>

</html>
